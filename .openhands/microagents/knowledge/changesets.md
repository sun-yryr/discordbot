---
name: changesets
type: knowledge
agent: CodeActAgent
keywords: [changeset, changesets, versioning, release, version]
---

# Changesets によるバージョン管理

このリポジトリでは、バージョン管理に Changesets を使用しています。Changesets は、モノレポでのバージョン管理とリリースノート生成を支援するツールです。

## 基本的なワークフロー

このプロジェクトでは、開発者は変更を記録するために `changeset add` コマンドのみを実行します。バージョンの更新と公開は CI によって自動的に管理されます。

### 変更の記録

コードに変更を加えた後、以下のコマンドを実行して変更内容を記録します：

```bash
pnpm changeset add
```

このコマンドを実行すると、対話形式で以下の情報を入力するよう求められます：

1. 変更を含むパッケージの選択
2. 各パッケージの変更の種類（patch, minor, major）の選択
3. 変更内容の説明（リリースノートに含まれます）

入力が完了すると、`.changeset/` ディレクトリに新しい Markdown ファイルが生成されます。このファイルには、変更の種類と説明が含まれています。

### バージョンの更新と公開

バージョンの更新（`changeset version`）と公開（`changeset publish`）は CI によって自動的に管理されるため、開発者が手動で実行する必要はありません。

## 変更の種類

Changesets では、Semantic Versioning に基づいて変更の種類を指定します：

* **patch**: 後方互換性のあるバグ修正（例: `1.0.0` → `1.0.1`）
* **minor**: 後方互換性のある機能追加（例: `1.0.0` → `1.1.0`）
* **major**: 後方互換性のない変更（例: `1.0.0` → `2.0.0`）

## 良い変更説明の書き方

変更説明は、リリースノートに直接含まれるため、以下のポイントを意識して書くことをお勧めします：

* ユーザー視点で書く（「何が変わったか」ではなく「ユーザーにとって何が良くなったか」）
* 具体的に書く（「バグ修正」ではなく「ファイルアップロード時のエラーハンドリングを修正」など）
* 必要に応じて、変更の理由や背景を含める

例：
```
ファイルダウンロード機能に進捗表示を追加しました。
これにより、ユーザーは大きなファイルのダウンロード中に
残り時間を確認できるようになります。
